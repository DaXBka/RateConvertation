(()=>{"use strict";const e=document.querySelector("#num"),t=document.querySelector("#rate-num"),a=document.querySelector("#rate"),r=document.querySelector("#btn"),u=document.querySelector(".total"),n=r.textContent;(e=>{e.addEventListener("input",(()=>{e.value=e.value.replace(/[^0-9\.]/i,"")}))})(e),r.addEventListener("click",(()=>{e.value&&(r.setAttribute("disabled","disabled"),r.textContent="Загрузка...",(()=>{let e,t,a;return fetch("http://api.exchangeratesapi.io/v1/latest?access_key=00419ec7a05ae1d6c25a25ab41ae7300&symbols=USD,RUB").then((e=>e.json())).then((r=>(e=r.rates.USD,t=r.rates.RUB,a=t/e,{eurRUB:t,usdRUB:a,eurUSD:e})))})().then((c=>{(({eurRUB:r,usdRUB:n,eurUSD:c})=>{const s=e.value,l=t.value,o=a.value;let U=0;switch(l){case"RUB":U="EUR"==o?s/r:"USD"==o?s/n:s;break;case"USD":U="EUR"==o?s/c:"RUB"==o?s*n:s;break;case"EUR":U="USD"==o?s*c:"RUB"==o?s*r:s}u.value=Math.floor(100*U)/100})(c),r.textContent=n,r.removeAttribute("disabled")})).catch((e=>{r.textContent="Ошибка сервера"})))}))})();